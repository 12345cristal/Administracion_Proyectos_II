<form [formGroup]="contactoForm" (ngSubmit)="enviar()" class="contact-form">
  <h2>Envíanos un mensaje</h2>

  <div class="form-group">
    <label for="nombre">Nombre</label>
    <input id="nombre" type="text" formControlName="nombre" placeholder="Tu nombre completo">
    <div class="error" *ngIf="campoInvalido('nombre')">
      <span *ngIf="contactoForm.get('nombre')?.errors?.['required']">Campo obligatorio.</span>
      <span *ngIf="contactoForm.get('nombre')?.errors?.['pattern']">Solo letras y espacios.</span>
      <span *ngIf="contactoForm.get('nombre')?.errors?.['nombreNoReal']">Nombre inválido o poco realista.</span>
    </div>
  </div>

  <div class="form-group">
    <label for="correo">Correo</label>
    <input id="correo" type="email" formControlName="correo" placeholder="correo@ejemplo.com">
    <div class="error" *ngIf="campoInvalido('correo')">
      <span *ngIf="contactoForm.get('correo')?.errors?.['required']">Campo obligatorio.</span>
      <span *ngIf="contactoForm.get('correo')?.errors?.['email'] || contactoForm.get('correo')?.errors?.['pattern']">Correo inválido.</span>
    </div>
  </div>

  <div class="form-group">
    <label for="telefono">Teléfono</label>
    <input id="telefono" type="tel" formControlName="telefono" placeholder="+52 667 123 4567">
    <div class="error" *ngIf="campoInvalido('telefono')">
      <span *ngIf="contactoForm.get('telefono')?.errors?.['required']">Campo obligatorio.</span>
      <span *ngIf="contactoForm.get('telefono')?.errors?.['pattern']">Teléfono inválido.</span>
      <span *ngIf="contactoForm.get('telefono')?.errors?.['telefonoNoReal']">Número poco realista.</span>
    </div>
  </div>

  <div class="form-group">
    <label for="mensaje">Mensaje</label>
    <textarea id="mensaje" formControlName="mensaje" rows="5" placeholder="Escribe tu mensaje aquí..."></textarea>
    <div class="error" *ngIf="campoInvalido('mensaje')">
      <span *ngIf="contactoForm.get('mensaje')?.errors?.['required']">Campo obligatorio.</span>
      <span *ngIf="contactoForm.get('mensaje')?.errors?.['minlength']">Debe tener al menos 10 caracteres.</span>
      <span *ngIf="contactoForm.get('mensaje')?.errors?.['mensajeNoCoherente']">Mensaje inválido.</span>
    </div>
  </div>

  <button type="submit" [disabled]="enviando">Enviar</button>

  <div class="mensaje-exito" *ngIf="mensajeExito">{{ mensajeExito }}</div>
  <div class="mensaje-error" *ngIf="mensajeError">{{ mensajeError }}</div>
</form>
